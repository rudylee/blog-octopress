
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Fixed static image path in Javascript using CakePHP - blog.rudylee.com</title>
  <meta name="author" content="Rudy Lee">

  
  <meta name="description" content="Today I was encountered a problem within the static path for images in my Javascript file. So this was a design that given by my friend Budi, and he &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rudylee.github.io/blog/2010/11/10/fixed-static-image-path-in-javascript-using-cakephp/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="blog.rudylee.com" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">mob</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">blog.rudylee.com</a></h1>
  
    <h2>keep it humble</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rudylee.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">Fixed Static Image Path in Javascript Using CakePHP</h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2010-11-10T18:58:34+11:00" pubdate data-updated="true">Nov 10<span>th</span>, 2010</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Today I was encountered a problem within the static path for images in my Javascript file. So this was a design that given by my friend Budi, and he using a Jquery slider plugin in his design. Here are the original Javascript file that he gave me :</p>

<!-- more -->


<pre><code>// set up horizontal scroll
var setupFeaturedBoxes = function () {
    var buttons = {
        previous: {
            enabled: '/img/arrow1-left.gif',
            hover: '/img/arrow1-left.gif'
        },
        next: {
            enabled: '/img/arrow1-right.gif',
            hover: '/img/arrow1-right.gif'
        }
    };
    var featuredContentWidth = 121;
    var featuredContentScrollPrefs = {
        speed: 800,
        axis: 'x'
    };
    jQuery('.featuredBox').each( function (i) {
        var featuredBox = jQuery(this);
        featuredBox
            .find('.scrollArrow')
                .filter('.next')
                    .hover(
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.next.hover )
                                .css( 'cursor', 'pointer' )
                            ;
                        },
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.next.enabled )
                                .css( 'cursor', 'default' )
                            ;
                        }
                    )
                    .click( function() {
                        featuredBox.find('.featuredContent').scrollTo(
                            '+=' + featuredContentWidth + 'px',
                            featuredContentScrollPrefs
                        );
                        return false;
                    })
                .end()
                .filter('.prev')
                    .hover(
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.previous.hover )
                                .css( 'cursor', 'pointer' )
                            ;
                        },
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.previous.enabled )
                                .css( 'cursor', 'default' )
                            ;
                        }
                    )
                    .click( function() {
                        featuredBox.find('.featuredContent').scrollTo(
                            '-=' + featuredContentWidth + 'px',
                            featuredContentScrollPrefs
                        );
                        return false;
                    })
        ;
    });
    jQuery('.featuredBox .featuredContent .featuredDisplayDiv').each( function (i) {
        jQuery(this).css( 'width', ( featuredContentWidth * jQuery(this).find('ul li').size() ) + 'px' );
    });
};

var setupFeaturedBoxes2 = function () {
    var buttons = {
        previous: {
            enabled: '/img/arrow2-left.gif',
            hover: '/img/arrow2-left.gif'
        },
        next: {
            enabled: '/img/arrow2-right.gif',
            hover: '/img/arrow2-right.gif'
        }
    };
    var featuredContentWidth2 = 172;
    var featuredContentScrollPrefs = {
        speed: 800,
        axis: 'x'
    };
    jQuery('.featuredBox2').each( function (i) {
        var featuredBox = jQuery(this);
        featuredBox
            .find('.scrollArrow')
                .filter('.next')
                    .hover(
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.next.hover )
                                .css( 'cursor', 'pointer' )
                            ;
                        },
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.next.enabled )
                                .css( 'cursor', 'default' )
                            ;
                        }
                    )
                    .click( function() {
                        featuredBox.find('.featuredContent2').scrollTo(
                            '+=' + featuredContentWidth2 + 'px',
                            featuredContentScrollPrefs
                        );
                        return false;
                    })
                .end()
                .filter('.prev')
                    .hover(
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.previous.hover )
                                .css( 'cursor', 'pointer' )
                            ;
                        },
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.previous.enabled )
                                .css( 'cursor', 'default' )
                            ;
                        }
                    )
                    .click( function() {
                        featuredBox.find('.featuredContent2').scrollTo(
                            '-=' + featuredContentWidth2 + 'px',
                            featuredContentScrollPrefs
                        );
                        return false;
                    })
        ;
    });
    jQuery('.featuredBox2 .featuredContent2 .featuredDisplayDiv2').each( function (i) {
        jQuery(this).css( 'width', ( featuredContentWidth2 * jQuery(this).find('ul li').size() ) + 'px' );
    });
};


jQuery(document).ready(function(){


// set up horizontal scroll
    setupFeaturedBoxes();
    setupFeaturedBoxes2();

});
</code></pre>

<p>As you can see at the line 5 there is an image path in which needed by the slider to load the image. Actually I can easily using the absolute path but if change the environment or the path then the image will be broken. So here come the Router class of CakePHP to the rescue.</p>

<p>The idea is to change the Javascript file to PHP file and change the path to use the Router class. Here is the sample of my PHP file :</p>

<pre><code>&lt;script type="text/javascript" language="JavaScript"&gt;
var setupFeaturedBoxes = function () {
    var buttons = {
        previous: {
            enabled: &lt;?php Router::url('/img/arrow1-left.gif')?&gt;,
            hover: &lt;?php Router::url('/img/arrow1-left.gif')?&gt;
        },
        next: {
            enabled: &lt;?php Router::url('/img/arrow1-right.gif')?&gt;,
            hover: &lt;?php Router::url('/img/arrow1-right.gif')?&gt;
        }
    };
    var featuredContentWidth = 121;
    var featuredContentScrollPrefs = {
        speed: 800,
        axis: 'x'
    };
    jQuery('.featuredBox').each( function (i) {
        var featuredBox = jQuery(this);
        featuredBox
            .find('.scrollArrow')
                .filter('.next')
                    .hover(
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.next.hover )
                                .css( 'cursor', 'pointer' )
                            ;
                        },
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.next.enabled )
                                .css( 'cursor', 'default' )
                            ;
                        }
                    )
                    .click( function() {
                        featuredBox.find('.featuredContent').scrollTo(
                            '+=' + featuredContentWidth + 'px',
                            featuredContentScrollPrefs
                        );
                        return false;
                    })
                .end()
                .filter('.prev')
                    .hover(
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.previous.hover )
                                .css( 'cursor', 'pointer' )
                            ;
                        },
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.previous.enabled )
                                .css( 'cursor', 'default' )
                            ;
                        }
                    )
                    .click( function() {
                        featuredBox.find('.featuredContent').scrollTo(
                            '-=' + featuredContentWidth + 'px',
                            featuredContentScrollPrefs
                        );
                        return false;
                    })
        ;
    });
    jQuery('.featuredBox .featuredContent .featuredDisplayDiv').each( function (i) {
        jQuery(this).css( 'width', ( featuredContentWidth * jQuery(this).find('ul li').size() ) + 'px' );
    });
};

var setupFeaturedBoxes2 = function () {
    var buttons = {
        previous: {
            enabled: &lt;?php Router::url('/img/arrow2-left.gif')?&gt;,
            hover: &lt;?php Router::url('/img/arrow2-left.gif')?&gt;
        },
        next: {
            enabled: &lt;?php Router::url('/img/arrow2-right.gif')?&gt;,
            hover: &lt;?php Router::url('/img/arrow2-right.gif')?&gt;
        }
    };
    var featuredContentWidth2 = 172;
    var featuredContentScrollPrefs = {
        speed: 800,
        axis: 'x'
    };
    jQuery('.featuredBox2').each( function (i) {
        var featuredBox = jQuery(this);
        featuredBox
            .find('.scrollArrow')
                .filter('.next')
                    .hover(
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.next.hover )
                                .css( 'cursor', 'pointer' )
                            ;
                        },
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.next.enabled )
                                .css( 'cursor', 'default' )
                            ;
                        }
                    )
                    .click( function() {
                        featuredBox.find('.featuredContent2').scrollTo(
                            '+=' + featuredContentWidth2 + 'px',
                            featuredContentScrollPrefs
                        );
                        return false;
                    })
                .end()
                .filter('.prev')
                    .hover(
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.previous.hover )
                                .css( 'cursor', 'pointer' )
                            ;
                        },
                        function () {
                            jQuery(this)
                                .attr( 'src', buttons.previous.enabled )
                                .css( 'cursor', 'default' )
                            ;
                        }
                    )
                    .click( function() {
                        featuredBox.find('.featuredContent2').scrollTo(
                            '-=' + featuredContentWidth2 + 'px',
                            featuredContentScrollPrefs
                        );
                        return false;
                    })
        ;
    });
    jQuery('.featuredBox2 .featuredContent2 .featuredDisplayDiv2').each( function (i) {
        jQuery(this).css( 'width', ( featuredContentWidth2 * jQuery(this).find('ul li').size() ) + 'px' );
    });
};


jQuery(document).ready(function(){


// set up horizontal scroll
    setupFeaturedBoxes();
    setupFeaturedBoxes2();

});
&lt;/script&gt;
</code></pre>

<p>As you can see I just change the image path to . I don&rsquo;t know if this is the best solution or not, but for now it&rsquo;s the simplest :D</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">admin</span></span>

      








  


<time datetime="2010-11-10T18:58:34+11:00" pubdate data-updated="true">Nov 10<span>th</span>, 2010</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/cakephp/'>CakePHP</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://rudylee.github.io/blog/2010/11/10/fixed-static-image-path-in-javascript-using-cakephp/" data-via="" data-counturl="http://rudylee.github.io/blog/2010/11/10/fixed-static-image-path-in-javascript-using-cakephp/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/blog/2010/10/31/pengangguran/" title="Previous Post: Pengangguran">&laquo; Pengangguran</a>
      
      
        <a class="basic-alignment right articlenav" href="/blog/2010/12/22/pak-aking/" title="Next Post: Pak Aking">Pak Aking &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/05/27/playing-with-google-map-api/">Playing with Google Map API</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/16/override-module-config-in-zend-framework-2/">Override module config in Zend Framework 2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/06/zend-framework-2-the-proper-way-to-set-application-path-in-javascript-object/">Zend Framework 2 : The proper way to set application path in Javascript Object</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/30/my-review-after-two-months-using-vim/">My review after two months using VIM</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/15/zend-framework-2-get-server-url-in-controller-without-using-serverurl/">Zend Framework 2 : get server URL in controller without using serverUrl()</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Rudy Lee -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'blogrudylee';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://rudylee.github.io/blog/2010/11/10/fixed-static-image-path-in-javascript-using-cakephp/';
        var disqus_url = 'http://rudylee.github.io/blog/2010/11/10/fixed-static-image-path-in-javascript-using-cakephp/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
